{"version":3,"sources":["app.ts","playarea.ts","player.ts","playerinput.ts","scorearea.ts"],"names":["App","App.constructor","App.preload","App.create","App.update","App.register","PlayArea","PlayArea.constructor","PlayArea.preload","PlayArea.create","PlayArea.update","Player","Player.constructor","Player.preload","Player.create","Player.update","PlayerInput","PlayerInput.constructor","PlayerInput.isLeft","PlayerInput.isRight","ScoreArea","ScoreArea.constructor","ScoreArea.preload","ScoreArea.create","ScoreArea.update"],"mappings":"AAGA;IAMIA,aAAmBA,KAAaA,EAASA,MAAcA;QAApCC,UAAKA,GAALA,KAAKA,CAAQA;QAASA,WAAMA,GAANA,MAAMA,CAAQA;QACnDA,IAAIA,CAACA,IAAIA,GAAGA,IAAIA,MAAMA,CAACA,IAAIA,CAACA,KAAKA,EAAEA,MAAMA,EAAEA,MAAMA,CAACA,IAAIA,EAAEA,SAASA,EAAEA,EAAEA,OAAOA,EAAEA,IAAIA,CAACA,OAAOA,EAAEA,MAAMA,EAAEA,IAAIA,CAACA,MAAMA,EAAEA,MAAMA,EAAEA,IAAIA,CAACA,MAAMA,EAAEA,CAACA,CAACA;IAC5IA,CAACA;IAEDD,qBAAOA,GAAPA;QACIE,GAAGA,CAACA,UAAUA,GAAGA,IAAIA,CAACA;QAEtBA,IAAIA,UAAUA,GAAGA,GAAGA,CAACA;QACrBA,IAAIA,aAAaA,GAAGA,CAACA,IAAIA,CAACA,IAAIA,CAACA,KAAKA,GAAGA,UAAUA,CAACA,GAAGA,CAACA,CAACA;QAEvDA,IAAIA,EAAEA,GAAGA,IAAIA,CAACA,IAAIA,CAACA,KAAKA,CAACA,QAAQA,CAACA;QAElCA,IAAIA,QAAQA,GAAGA,IAAIA,WAAWA,CAACA,EAAEA,CAACA,MAAMA,CAACA,MAAMA,CAACA,QAAQA,CAACA,CAACA,CAACA,EAAEA,EAAEA,CAACA,MAAMA,CAACA,MAAMA,CAACA,QAAQA,CAACA,CAACA,CAACA,CAACA,CAACA;QAC3FA,IAAIA,QAAQA,GAAGA,IAAIA,QAAQA,CAACA,IAAIA,CAACA,IAAIA,EAAEA,CAACA,EAAEA,CAACA,EAAEA,aAAaA,EAAEA,IAAIA,CAACA,IAAIA,CAACA,MAAMA,EAAEA,QAAQA,CAACA,CAACA;QACxFA,GAAGA,CAACA,QAAQA,CAACA,QAAQA,CAACA,CAACA;QAEvBA,IAAIA,SAASA,GAAGA,IAAIA,WAAWA,CAACA,EAAEA,CAACA,MAAMA,CAACA,MAAMA,CAACA,QAAQA,CAACA,IAAIA,CAACA,EAAEA,EAAEA,CAACA,MAAMA,CAACA,MAAMA,CAACA,QAAQA,CAACA,KAAKA,CAACA,CAACA,CAACA;QACnGA,IAAIA,SAASA,GAAGA,IAAIA,QAAQA,CAACA,IAAIA,CAACA,IAAIA,EAAEA,aAAaA,GAAGA,UAAUA,EAAEA,CAACA,EAAEA,aAAaA,EAAEA,IAAIA,CAACA,IAAIA,CAACA,MAAMA,EAAEA,SAASA,CAACA,CAACA;QACnHA,GAAGA,CAACA,QAAQA,CAACA,SAASA,CAACA,CAACA;QAExBA,IAAIA,SAASA,GAAGA,IAAIA,SAASA,CAACA,IAAIA,CAACA,IAAIA,EAAEA,aAAaA,EAAEA,CAACA,EAAEA,UAAUA,EAAEA,IAAIA,CAACA,IAAIA,CAACA,MAAMA,CAACA,CAACA;QACzFA,GAAGA,CAACA,QAAQA,CAACA,SAASA,CAACA,CAACA;QAExBA,CAACA,CAACA,IAAIA,CAACA,GAAGA,CAACA,OAAOA,EAAEA,UAAAA,CAACA,IAAIA,OAAAA,CAACA,CAACA,OAAOA,EAAEA,EAAXA,CAAWA,CAACA,CAACA;IAC1CA,CAACA;IAEDF,oBAAMA,GAANA;QACIG,GAAGA,CAACA,SAASA,GAAGA,IAAIA,CAACA;QAErBA,CAACA,CAACA,IAAIA,CAACA,GAAGA,CAACA,OAAOA,EAAEA,UAAAA,CAACA,IAAIA,OAAAA,CAACA,CAACA,MAAMA,EAAEA,EAAVA,CAAUA,CAACA,CAACA;IACzCA,CAACA;IAEDH,oBAAMA,GAANA;QAGII,CAACA,CAACA,IAAIA,CAACA,GAAGA,CAACA,OAAOA,EAAEA,UAAAA,CAACA,IAAIA,OAAAA,CAACA,CAACA,MAAMA,EAAEA,EAAVA,CAAUA,CAACA,CAACA;IACzCA,CAACA;IAEaJ,YAAQA,GAAtBA,UAAuBA,GAAgBA;QACnCK,IAAIA,CAACA,OAAOA,CAACA,IAAIA,CAACA,GAAGA,CAACA,CAACA;QACvBA,EAAEA,CAACA,CAACA,GAAGA,CAACA,UAAUA,CAACA,CAACA,CAACA;YACjBA,GAAGA,CAACA,OAAOA,EAAEA,CAACA;QAClBA,CAACA;QACDA,EAAEA,CAACA,CAACA,GAAGA,CAACA,SAASA,CAACA,CAACA,CAACA;YAChBA,GAAGA,CAACA,MAAMA,EAAEA,CAACA;QACjBA,CAACA;IACLA,CAACA;IAlDcL,WAAOA,GAAuBA,EAAEA,CAACA;IACjCA,cAAUA,GAAYA,KAAKA,CAACA;IAC5BA,aAASA,GAAYA,KAAKA,CAACA;IAiD9CA,UAACA;AAADA,CArDA,AAqDCA,IAAA;AAED,MAAM,CAAC,MAAM,GAAG;IACZ,IAAI,GAAG,GAAG,IAAI,GAAG,CAAC,IAAI,EAAE,GAAG,CAAC,CAAC;AACjC,CAAC,CAAC;AC1DF;IAMIM,kBAAoBA,IAAiBA,EAASA,CAASA,EAASA,CAASA,EAASA,KAAaA,EAASA,MAAcA,EAASA,KAAkBA;QAA7HC,SAAIA,GAAJA,IAAIA,CAAaA;QAASA,MAACA,GAADA,CAACA,CAAQA;QAASA,MAACA,GAADA,CAACA,CAAQA;QAASA,UAAKA,GAALA,KAAKA,CAAQA;QAASA,WAAMA,GAANA,MAAMA,CAAQA;QAASA,UAAKA,GAALA,KAAKA,CAAaA;QAFzIA,kBAAaA,GAAWA,QAAQA,CAACA;IAGzCA,CAACA;IAEDD,0BAAOA,GAAPA;QACIE,IAAIA,CAACA,CAACA,GAAGA,IAAIA,CAACA,IAAIA,CAACA,GAAGA,CAACA,QAAQA,CAACA,IAAIA,CAACA,CAACA,EAAEA,IAAIA,CAACA,CAACA,CAACA,CAACA;IACpDA,CAACA;IAEDF,yBAAMA,GAANA;QACIG,IAAIA,CAACA,MAAMA,GAAGA,IAAIA,MAAMA,CAACA,IAAIA,CAACA,CAACA;QAC/BA,GAAGA,CAACA,QAAQA,CAACA,IAAIA,CAACA,MAAMA,CAACA,CAACA;IAC9BA,CAACA;IAEDH,yBAAMA,GAANA;QACII,IAAIA,CAACA,CAACA,CAACA,KAAKA,EAAEA,CAACA;QAEfA,IAAIA,CAACA,CAACA,CAACA,SAASA,CAACA,CAACA,EAAEA,IAAIA,CAACA,aAAaA,EAAEA,CAACA,CAACA,CAACA;QAC3CA,IAAIA,CAACA,CAACA,CAACA,SAASA,CAACA,IAAIA,CAACA,aAAaA,EAAEA,CAACA,CAACA,CAACA;QACxCA,IAAIA,CAACA,CAACA,CAACA,QAAQA,CAACA,CAACA,GAAGA,CAACA,EAAEA,CAACA,GAAGA,CAACA,EAAEA,IAAIA,CAACA,KAAKA,GAAGA,CAACA,EAAEA,IAAIA,CAACA,MAAMA,GAAGA,CAACA,CAACA,CAACA;QAC/DA,IAAIA,CAACA,CAACA,CAACA,OAAOA,EAAEA,CAACA;IACrBA,CAACA;IACLJ,eAACA;AAADA,CA1BA,AA0BCA,IAAA;AC1BD;IAiBIK,gBAAoBA,QAAkBA;QAAlBC,aAAQA,GAARA,QAAQA,CAAUA;QAb9BA,SAAIA,GAAWA,EAAEA,CAACA;QAElBA,aAAQA,GAAWA,QAAQA,CAACA;QAC5BA,aAAQA,GAAWA,QAAQA,CAACA;QAC5BA,UAAKA,GAAWA,QAAQA,CAACA;QACzBA,mBAAcA,GAAWA,QAAQA,CAACA;QAClCA,sBAAiBA,GAAWA,CAACA,CAACA;QAQlCA,IAAIA,CAACA,CAACA,GAAGA,QAAQA,CAACA,KAAKA,GAAGA,CAACA,CAACA;QAC5BA,IAAIA,CAACA,CAACA,GAAGA,QAAQA,CAACA,MAAMA,GAAGA,EAAEA,CAACA;QAC9BA,IAAIA,CAACA,CAACA,GAAGA,QAAQA,CAACA,CAACA,CAACA;QACpBA,IAAIA,CAACA,KAAKA,GAAGA,QAAQA,CAACA,KAAKA,CAACA;IAChCA,CAACA;IAEDD,wBAAOA,GAAPA,cAAkBE,CAACA;IAEnBF,uBAAMA,GAANA;IAEAG,CAACA;IAEDH,uBAAMA,GAANA;QACII,IAAIA,CAACA,OAAOA,GAAGA,CAACA,IAAIA,GAAGA,CAACA,CAACA,IAAIA,CAACA,KAAKA,GAAGA,IAAIA,CAACA,QAAQA,CAACA,GAAGA,CAACA,IAAIA,CAACA,QAAQA,GAAGA,IAAIA,CAACA,QAAQA,CAACA,CAACA,CAACA,CAACA;QACzFA,IAAIA,CAACA,SAASA,GAAGA,IAAIA,CAACA,IAAIA,GAAGA,CAACA,CAACA,GAAGA,IAAIA,CAACA,OAAOA,CAACA,CAACA;QAEhDA,EAAEA,CAACA,CAACA,IAAIA,CAACA,KAAKA,CAACA,MAAMA,EAAEA,CAACA,CAACA,CAACA;YACtBA,IAAIA,CAACA,CAACA,IAAIA,EAAEA,CAACA;QACjBA,CAACA;QACDA,IAAIA,CAACA,EAAEA,CAACA,CAACA,IAAIA,CAACA,KAAKA,CAACA,OAAOA,EAAEA,CAACA,CAACA,CAACA;YAC5BA,IAAIA,CAACA,CAACA,IAAIA,EAAEA,CAACA;QACjBA,CAACA;QAEDA,IAAIA,CAACA,CAACA,GAAGA,IAAIA,CAACA,GAAGA,CAACA,IAAIA,CAACA,GAAGA,CAACA,IAAIA,CAACA,CAACA,EAAEA,CAACA,GAAGA,CAACA,IAAIA,CAACA,SAASA,GAAGA,EAAEA,CAACA,CAACA,EAAEA,IAAIA,CAACA,QAAQA,CAACA,KAAKA,GAAGA,CAACA,IAAIA,CAACA,SAASA,GAAGA,EAAEA,CAACA,CAACA,CAACA;QAE5GA,IAAIA,CAACA,KAAKA,IAAIA,CAACA,IAAIA,CAACA,cAAcA,GAAGA,IAAIA,CAACA,iBAAiBA,CAACA,CAACA;QAC7DA,EAAEA,CAACA,CAACA,IAAIA,CAACA,KAAKA,IAAIA,IAAIA,CAACA,QAAQA,CAACA,CAACA,CAACA;YAC9BA,IAAIA,CAACA,iBAAiBA,GAAGA,CAACA,CAACA,CAACA;YAC5BA,IAAIA,CAACA,KAAKA,GAAGA,IAAIA,CAACA,QAAQA,CAACA;QAC/BA,CAACA;QACDA,EAAEA,CAACA,CAACA,IAAIA,CAACA,KAAKA,IAAIA,IAAIA,CAACA,QAAQA,CAACA,CAACA,CAACA;YAC9BA,IAAIA,CAACA,iBAAiBA,GAAGA,EAAEA,CAACA;YAC5BA,IAAIA,CAACA,KAAKA,GAAGA,IAAIA,CAACA,QAAQA,CAACA;QAC/BA,CAACA;QAEDA,IAAIA,CAACA,CAACA,CAACA,SAASA,CAACA,CAACA,EAAEA,IAAIA,CAACA,KAAKA,EAAEA,CAACA,CAACA,CAACA;QACnCA,IAAIA,CAACA,CAACA,CAACA,SAASA,CAACA,IAAIA,CAACA,KAAKA,EAAEA,CAACA,CAACA,CAACA;QAChCA,IAAIA,CAACA,CAACA,CAACA,YAAYA,CAACA,CAACA,IAAIA,MAAMA,CAACA,KAAKA,CAACA,IAAIA,CAACA,CAACA,GAAGA,IAAIA,CAACA,SAASA,EAAEA,IAAIA,CAACA,CAACA,CAACA,EAAEA,IAAIA,MAAMA,CAACA,KAAKA,CAACA,IAAIA,CAACA,CAACA,EAAEA,IAAIA,CAACA,CAACA,GAAGA,CAACA,IAAIA,CAACA,SAASA,GAAGA,GAAGA,CAACA,CAACA,EAAEA,IAAIA,MAAMA,CAACA,KAAKA,CAACA,IAAIA,CAACA,CAACA,GAAGA,IAAIA,CAACA,SAASA,EAAEA,IAAIA,CAACA,CAACA,CAACA,CAACA,EAAEA,KAAKA,CAACA,CAACA;QAC9LA,IAAIA,CAACA,CAACA,CAACA,OAAOA,EAAEA,CAACA;IACrBA,CAACA;IACLJ,aAACA;AAADA,CA1DA,AA0DCA,IAAA;AC1DD;IACIK,qBAAoBA,OAAmBA,EAAUA,QAAoBA;QAAjDC,YAAOA,GAAPA,OAAOA,CAAYA;QAAUA,aAAQA,GAARA,QAAQA,CAAYA;IAErEA,CAACA;IAEMD,4BAAMA,GAAbA;QACIE,MAAMA,CAACA,CAACA,IAAIA,CAACA,OAAOA,CAACA,MAAMA,CAACA,CAACA;IACjCA,CAACA;IAEMF,6BAAOA,GAAdA;QACIG,MAAMA,CAACA,CAACA,IAAIA,CAACA,QAAQA,CAACA,MAAMA,CAACA,CAACA;IAClCA,CAACA;IACLH,kBAACA;AAADA,CAZA,AAYCA,IAAA;ACdD;IAIII,mBAAoBA,IAAiBA,EAASA,CAASA,EAASA,CAASA,EAASA,KAAaA,EAASA,MAAcA;QAAlGC,SAAIA,GAAJA,IAAIA,CAAaA;QAASA,MAACA,GAADA,CAACA,CAAQA;QAASA,MAACA,GAADA,CAACA,CAAQA;QAASA,UAAKA,GAALA,KAAKA,CAAQA;QAASA,WAAMA,GAANA,MAAMA,CAAQA;QAF9GA,YAAOA,GAAWA,QAAQA,CAACA;IAG/BA,CAACA;IAELD,2BAAOA,GAAPA;QACIE,IAAIA,CAACA,CAACA,GAAGA,IAAIA,CAACA,IAAIA,CAACA,GAAGA,CAACA,QAAQA,CAACA,IAAIA,CAACA,CAACA,EAAEA,IAAIA,CAACA,CAACA,CAACA,CAACA;IACpDA,CAACA;IAEDF,0BAAMA,GAANA,cAAgBG,CAACA;IAEjBH,0BAAMA,GAANA;QACII,IAAIA,CAACA,CAACA,CAACA,SAASA,CAACA,CAACA,CAACA,CAACA;QACpBA,IAAIA,CAACA,CAACA,CAACA,SAASA,CAACA,IAAIA,CAACA,OAAOA,EAAEA,CAACA,CAACA,CAACA;QAClCA,IAAIA,CAACA,CAACA,CAACA,QAAQA,CAACA,CAACA,EAAEA,CAACA,EAAEA,IAAIA,CAACA,KAAKA,EAAEA,IAAIA,CAACA,MAAMA,CAACA,CAACA;QAC/CA,IAAIA,CAACA,CAACA,CAACA,OAAOA,EAAEA,CAACA;IACrBA,CAACA;IACLJ,gBAACA;AAADA,CAnBA,AAmBCA,IAAA","file":"../../built/local/tsc.js","sourcesContent":["/// <reference path=\"../typings/phaser.d.ts\" />\r\n/// <reference path=\"../typings/underscore/underscore.d.ts\" />\r\n\r\nclass App {\r\n    private game: Phaser.Game;\r\n    private static objects: Array<IGameObject> = [];\r\n    private static ranPreload: boolean = false;\r\n    private static ranCreate: boolean = false;\r\n\r\n    constructor(public width: number, public height: number) {\r\n        this.game = new Phaser.Game(width, height, Phaser.AUTO, 'content', { preload: this.preload, create: this.create, update: this.update });\r\n    }\r\n\r\n    preload() {\r\n        App.ranPreload = true;\r\n\r\n        var spacerSize = 280;\r\n        var playAreaWidth = (this.game.width - spacerSize) / 2;\r\n\r\n        var kb = this.game.input.keyboard;\r\n        \r\n        var leftKeys = new PlayerInput(kb.addKey(Phaser.Keyboard.A), kb.addKey(Phaser.Keyboard.D));\r\n        var leftArea = new PlayArea(this.game, 0, 0, playAreaWidth, this.game.height, leftKeys);\r\n        App.register(leftArea);\r\n\r\n        var rightKeys = new PlayerInput(kb.addKey(Phaser.Keyboard.LEFT), kb.addKey(Phaser.Keyboard.RIGHT));\r\n        var rightArea = new PlayArea(this.game, playAreaWidth + spacerSize, 0, playAreaWidth, this.game.height, rightKeys);\r\n        App.register(rightArea);\r\n\r\n        var scoreArea = new ScoreArea(this.game, playAreaWidth, 0, spacerSize, this.game.height);\r\n        App.register(scoreArea);\r\n\r\n        _.each(App.objects, o => o.preload());\r\n    }\r\n\r\n    create() {\r\n        App.ranCreate = true;\r\n\r\n        _.each(App.objects, o => o.create());\r\n    }\r\n\r\n    update() {\r\n\r\n\r\n        _.each(App.objects, o => o.update());\r\n    }\r\n\r\n    public static register(obj: IGameObject) {\r\n        this.objects.push(obj);\r\n        if (App.ranPreload) {\r\n            obj.preload();\r\n        }\r\n        if (App.ranCreate) {\r\n            obj.create();\r\n        }\r\n    }\r\n}\r\n\r\nwindow.onload = () => {\r\n    var app = new App(1600, 800);\r\n};","/// <reference path=\"../typings/phaser.d.ts\" />\r\n\r\nclass PlayArea implements IGameObject {\r\n    public player: Player;\r\n    public g: Phaser.Graphics;\r\n\r\n    private playAreaColor: number = 0x000000;\r\n\r\n    constructor(private game: Phaser.Game, public x: number, public y: number, public width: number, public height: number, public input: PlayerInput) {\r\n    }\r\n\r\n    preload(): void {\r\n        this.g = this.game.add.graphics(this.x, this.y);\r\n    }\r\n\r\n    create(): void {\r\n        this.player = new Player(this);\r\n        App.register(this.player);       \r\n    }\r\n    \r\n    update(): void {\r\n        this.g.clear();\r\n        \r\n        this.g.lineStyle(6, this.playAreaColor, 1);\r\n        this.g.beginFill(this.playAreaColor, 1);\r\n        this.g.drawRect(0 + 3, 0 + 3, this.width - 6, this.height - 6);\r\n        this.g.endFill();\r\n    }\r\n}","/// <reference path=\"../typings/phaser.d.ts\" />\r\n\r\nclass Player implements IGameObject {\r\n    private x: number;\r\n    private y: number;\r\n    private g: Phaser.Graphics;\r\n    private size: number = 20;\r\n\r\n    private minColor: number = 0x900000;\r\n    private maxColor: number = 0xFF0000;\r\n    private color: number = 0xFF0000;\r\n    private colorIncrement: number = 0x010000;\r\n    private isColorIncreasing: number = 1;\r\n\r\n    private sizeMod: number;\r\n    private frameSize: number;\r\n\r\n    private input: PlayerInput;\r\n\r\n    constructor(private playArea: PlayArea) {\r\n        this.x = playArea.width / 2;\r\n        this.y = playArea.height - 44;\r\n        this.g = playArea.g;\r\n        this.input = playArea.input;\r\n    }\r\n\r\n    preload(): void { }\r\n\r\n    create(): void {\r\n        \r\n    }\r\n\r\n    update(): void {\r\n        this.sizeMod = (0.05 * ((this.color - this.minColor) / (this.maxColor - this.minColor)));\r\n        this.frameSize = this.size * (1 + this.sizeMod);\r\n\r\n        if (this.input.isLeft()) {\r\n            this.x -= 12;\r\n        }\r\n        else if (this.input.isRight()) {\r\n            this.x += 12;\r\n        }\r\n\r\n        this.x = Math.min(Math.max(this.x, 0 + (this.frameSize + 40)), this.playArea.width - (this.frameSize + 40));\r\n\r\n        this.color += (this.colorIncrement * this.isColorIncreasing);\r\n        if (this.color >= this.maxColor) {\r\n            this.isColorIncreasing = -1;\r\n            this.color = this.maxColor;\r\n        }\r\n        if (this.color <= this.minColor) {\r\n            this.isColorIncreasing = 32;\r\n            this.color = this.minColor;\r\n        }\r\n\r\n        this.g.lineStyle(2, this.color, 1);\r\n        this.g.beginFill(this.color, 1);\r\n        this.g.drawTriangle([new Phaser.Point(this.x - this.frameSize, this.y), new Phaser.Point(this.x, this.y - (this.frameSize * 1.5)), new Phaser.Point(this.x + this.frameSize, this.y)], false);\r\n        this.g.endFill();\r\n    }\r\n}","/// <reference path=\"../typings/phaser.d.ts\" />\r\n\r\nclass PlayerInput {\r\n    constructor(private leftKey: Phaser.Key, private rightKey: Phaser.Key) {\r\n        \r\n    }\r\n\r\n    public isLeft(): boolean {\r\n        return (this.leftKey.isDown);\r\n    }\r\n\r\n    public isRight(): boolean {\r\n        return (this.rightKey.isDown);\r\n    }\r\n}","class ScoreArea implements IGameObject {\r\n    private g: Phaser.Graphics;\r\n    private bgColor: number = 0x00309A;\r\n\r\n    constructor(private game: Phaser.Game, public x: number, public y: number, public width: number, public height: number) {\r\n        }\r\n\r\n    preload(): void {\r\n        this.g = this.game.add.graphics(this.x, this.y);\r\n    }\r\n\r\n    create(): void {}\r\n\r\n    update(): void {\r\n        this.g.lineStyle(0);\r\n        this.g.beginFill(this.bgColor, 1);\r\n        this.g.drawRect(0, 0, this.width, this.height);\r\n        this.g.endFill();\r\n    }\r\n}"],"sourceRoot":"/source/"}